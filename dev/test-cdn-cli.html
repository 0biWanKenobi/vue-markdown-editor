<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover"
    />
    <title>vue-markdown-editor</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
      integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
      window.Promise ||
        document.write('<script src="//img.yzcdn.cn/huiyi/build/h5/js/pinkie.min.js"><\/script>');
    </script>
  </head>
  <body>
    <div id="app"></div>
    <link rel="stylesheet" href="../dist/bundle.css" />
    <script type="importmap">
      {
        "imports": {
          "vue": "https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.27/vue.esm-browser.prod.min.js"
        }
      }
    </script>

    <script type="module">
      import { createApp } from 'vue';
      import VMdEditor from '../dist/index.esm.js';
      import { PreviewHtml } from '../dist/preview.esm.js';
      import { BaseEditor } from '../dist/editor.esm.js';
      import { US } from '../dist/lang.esm.js';
      import { VuepressTheme } from '../dist/theme.esm.js';

      import {
        CreateEmojiPlugin,
        CreateKatexPluginCdn,
        CreateTodoListPlugin,
        CreateLineNumberPlugin,
        CreateCopyCodePlugin,
        CreateHighlightLinesPlugin,
        CreateMermaidPluginCdn,
        CreateCopyCodePreviewPlugin,
      } from '../dist/plugins.esm.js';

      const app = createApp({
        template: `<v-md-editor v-model="text" height="400px"></v-md-editor>`,
        data() {
          return {
            text: 'v-md-editor',
          };
        },
      });

      app.use(VMdEditor, {
        editor: {
          instance: BaseEditor,
          type: 'base',
        },
        langConfig: {
          lang: 'en-US',
          langConfig: US,
        },
        preview: PreviewHtml,
        themeConfig: {
          config: {
            Prism,
            codeHighlightExtensionMap: {
              vue: 'markup',
            },
          },
          theme: VuepressTheme,
        },
        plugins: [
          { plugin: CreateCopyCodePreviewPlugin() },
          { plugin: CreateEmojiPlugin() },
          { plugin: CreateKatexPluginCdn() },
          { plugin: CreateTodoListPlugin() },
          { plugin: CreateLineNumberPlugin() },
          { plugin: CreateCopyCodePlugin() },
          { plugin: CreateHighlightLinesPlugin() },
          { plugin: CreateMermaidPluginCdn() },
        ],
      });

      app.mount('#app');
    </script>
  </body>
</html>
